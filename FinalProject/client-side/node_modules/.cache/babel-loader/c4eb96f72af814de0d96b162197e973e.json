{"ast":null,"code":"import _slicedToArray from\"/home/fcavaleti/Desktop/web/web-project/FinalProject/client-side/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useNavigate}from'react-router-dom';import'./Sign.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SignIn=function SignIn(_ref){var users=_ref.users,doLogin=_ref.doLogin;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),login=_useState2[0],setLogin=_useState2[1];// Recebe credenciais de login do input\nvar _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),pass=_useState4[0],setPass=_useState4[1];// Recebe credenciais de senha do input\nvar _useState5=useState({type:'',message:''}),_useState6=_slicedToArray(_useState5,2),status=_useState6[0],setStatus=_useState6[1];var navigate=useNavigate();console.log(users);var handleSubmit=function handleSubmit(e){e.preventDefault();var user=users.filter(function(item){return item.name==login&&item.password==pass?true:false;});if(user.length==1){setStatus({type:\"Sucesso\",message:\"Login efetuado com sucesso!!\"});localStorage.setItem('isLogged',true);localStorage.setItem('user',JSON.stringify(user[0]));doLogin(true,user[0]);window.alert(\"Ol\\xE1 \".concat(user[0].name,\", login efetuado com sucesso!!\"));console.log(localStorage);navigate('/');}else{setStatus({type:'failed',message:'Login ou senha invalido!!'});window.alert(\"Login ou senha invalidos!!\");}};return/*#__PURE__*/_jsxs(\"div\",{className:\"sign-in container-fluid\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"login-form\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Usu\\xE1rio:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:login,onChange:function onChange(e){setLogin(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Senha:\",/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:pass,onChange:function onChange(e){setPass(e.target.value);}})]}),/*#__PURE__*/_jsx(\"input\",{className:\"sign-btn btn\",value:\"Fazer login\",type:\"submit\"})]})]});};export default SignIn;","map":{"version":3,"names":["React","useState","useNavigate","SignIn","users","doLogin","login","setLogin","pass","setPass","type","message","status","setStatus","navigate","console","log","handleSubmit","e","preventDefault","user","filter","item","name","password","length","localStorage","setItem","JSON","stringify","window","alert","target","value"],"sources":["/home/fcavaleti/Desktop/web/web-project/FinalProject/client-side/src/Pages/SignIn.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport './Sign.css'\nconst SignIn = ({users, doLogin}) => {\n\n    const [login, setLogin] = useState(\"\"); // Recebe credenciais de login do input\n    const [pass, setPass] = useState(\"\"); // Recebe credenciais de senha do input\n    const [status, setStatus] = useState({\n        type: '',\n        message: ''\n    })\n    const navigate = useNavigate();\n\n    console.log(users)\n\n    const handleSubmit = (e) =>\n    {\n        e.preventDefault();\n\n        \n\n        let user = users.filter((item) => item.name == login && item.password == pass ? true : false)\n        \n        \n\n        if(user.length == 1)\n        {\n            setStatus({type: \"Sucesso\", message:\"Login efetuado com sucesso!!\"})\n            localStorage.setItem('isLogged', true)\n            localStorage.setItem('user', JSON.stringify(user[0]))\n            doLogin(true, user[0])\n            window.alert(`Olá ${user[0].name}, login efetuado com sucesso!!`)\n            console.log(localStorage)\n            navigate('/')\n\n        }\n        else\n        {\n            setStatus({type: 'failed', message:'Login ou senha invalido!!'})\n            window.alert(`Login ou senha invalidos!!`)\n        }\n        \n    }\n\n\n    return ( <div className='sign-in container-fluid'>\n                <h1>Login</h1>\n                <form onSubmit={handleSubmit} className='login-form'>\n                    <label>\n                        Usuário:\n                        <input type='text' name={login} onChange={(e) =>{setLogin(e.target.value)}} />\n                    </label>\n                    <label>\n                        Senha:\n                        <input type='password' name={pass} onChange={(e) => {setPass(e.target.value)}} />\n                    </label>\n                    <input className='sign-btn btn' value='Fazer login' type='submit'></input>\n\n                </form>\n    </div> );\n}\n \nexport default SignIn;"],"mappings":"sJAAA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,MAAO,YAAP,C,wFACA,GAAMC,OAAM,CAAG,QAATA,OAAS,MAAsB,IAApBC,MAAoB,MAApBA,KAAoB,CAAbC,OAAa,MAAbA,OAAa,CAEjC,cAA0BJ,QAAQ,CAAC,EAAD,CAAlC,wCAAOK,KAAP,eAAcC,QAAd,eAAwC;AACxC,eAAwBN,QAAQ,CAAC,EAAD,CAAhC,yCAAOO,IAAP,eAAaC,OAAb,eAAsC;AACtC,eAA4BR,QAAQ,CAAC,CACjCS,IAAI,CAAE,EAD2B,CAEjCC,OAAO,CAAE,EAFwB,CAAD,CAApC,yCAAOC,MAAP,eAAeC,SAAf,eAIA,GAAMC,SAAQ,CAAGZ,WAAW,EAA5B,CAEAa,OAAO,CAACC,GAAR,CAAYZ,KAAZ,EAEA,GAAMa,aAAY,CAAG,QAAfA,aAAe,CAACC,CAAD,CACrB,CACIA,CAAC,CAACC,cAAF,GAIA,GAAIC,KAAI,CAAGhB,KAAK,CAACiB,MAAN,CAAa,SAACC,IAAD,QAAUA,KAAI,CAACC,IAAL,EAAajB,KAAb,EAAsBgB,IAAI,CAACE,QAAL,EAAiBhB,IAAvC,CAA8C,IAA9C,CAAqD,KAA/D,EAAb,CAAX,CAIA,GAAGY,IAAI,CAACK,MAAL,EAAe,CAAlB,CACA,CACIZ,SAAS,CAAC,CAACH,IAAI,CAAE,SAAP,CAAkBC,OAAO,CAAC,8BAA1B,CAAD,CAAT,CACAe,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAiC,IAAjC,EACAD,YAAY,CAACC,OAAb,CAAqB,MAArB,CAA6BC,IAAI,CAACC,SAAL,CAAeT,IAAI,CAAC,CAAD,CAAnB,CAA7B,EACAf,OAAO,CAAC,IAAD,CAAOe,IAAI,CAAC,CAAD,CAAX,CAAP,CACAU,MAAM,CAACC,KAAP,kBAAoBX,IAAI,CAAC,CAAD,CAAJ,CAAQG,IAA5B,oCACAR,OAAO,CAACC,GAAR,CAAYU,YAAZ,EACAZ,QAAQ,CAAC,GAAD,CAAR,CAEH,CAVD,IAYA,CACID,SAAS,CAAC,CAACH,IAAI,CAAE,QAAP,CAAiBC,OAAO,CAAC,2BAAzB,CAAD,CAAT,CACAmB,MAAM,CAACC,KAAP,+BACH,CAEJ,CA3BD,CA8BA,mBAAS,aAAK,SAAS,CAAC,yBAAf,wBACG,6BADH,cAEG,cAAM,QAAQ,CAAEd,YAAhB,CAA8B,SAAS,CAAC,YAAxC,wBACI,oDAEI,cAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAEX,KAAzB,CAAgC,QAAQ,CAAE,kBAACY,CAAD,CAAM,CAACX,QAAQ,CAACW,CAAC,CAACc,MAAF,CAASC,KAAV,CAAR,CAAyB,CAA1E,EAFJ,GADJ,cAKI,+CAEI,cAAO,IAAI,CAAC,UAAZ,CAAuB,IAAI,CAAEzB,IAA7B,CAAmC,QAAQ,CAAE,kBAACU,CAAD,CAAO,CAACT,OAAO,CAACS,CAAC,CAACc,MAAF,CAASC,KAAV,CAAP,CAAwB,CAA7E,EAFJ,GALJ,cASI,cAAO,SAAS,CAAC,cAAjB,CAAgC,KAAK,CAAC,aAAtC,CAAoD,IAAI,CAAC,QAAzD,EATJ,GAFH,GAAT,CAeH,CAzDD,CA2DA,cAAe9B,OAAf"},"metadata":{},"sourceType":"module"}