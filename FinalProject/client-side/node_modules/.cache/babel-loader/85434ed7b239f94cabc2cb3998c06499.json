{"ast":null,"code":"import _toConsumableArray from\"/home/fcavaleti/Desktop/web/web-project/FinalProject/client-side/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/fcavaleti/Desktop/web/web-project/FinalProject/client-side/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./App.css';import NavBar from'./Components/NavBar';import TopBar from'./Components/TopBar';import Footer from'./Components/Footer';import{useEffect,useState}from'react';import Book from'./Components/Book';import Card from'./Components/Card';import Home from'./Pages/Home';import BookInfo from'./Pages/BookPage';import Admin from'./Pages/Admin';import EditAdmins from'./Pages/EditAdmins';import EditClients from'./Pages/EditClients';import Payment from'./Pages/Payment';import{BrowserRouter as Router,Route,Routes,useNavigate}from'react-router-dom';import BookPage from'./Pages/BookPage';import CartPage from'./Pages/CartPage';import SignIn from'./Pages/SignIn';import SignUp from'./Pages/SignUp';import users from'./DataBases/userDB';import Perfil from'./Pages/Pefil';import EditProducts from'./Pages/EditProducts';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var navigate=useNavigate();// Lidando com login no front end\nvar _useState=useState(localStorage.getItem('isLogged')!=undefined?localStorage.getItem('isLogged'):false),_useState2=_slicedToArray(_useState,2),login=_useState2[0],setLogin=_useState2[1];// Verifica se o usuario está logado ou nao \n//Função para logout\nvar handleLogout=function handleLogout(){setLogin(false);localStorage.setItem('isLogged',false);localStorage.setItem('user',JSON.stringify({}));navigate('/');};var doLogin=function doLogin(bool){setLogin(bool);};// Lista de livros disponiveis e itens do carrinho\nvar _useState3=useState([new Book(\"Harry Potter e a Pedra Filosofal\",\"J. K. Rowling\",40.00,\"a\",1,\"Primeiro livro da franquia...\"),new Book(\"A Rainha Vermelha - Vol. 1\",\"Aveyard,Victoria\",44.99,\"a\",1,\"Primeiro livro da franquia...\"),new Book(\"A Rainha Vermelha - Vol. 2\",\"Aveyard,Victoria\",44.99,\"a\",1,\"Segundo livro da franquia...\"),new Book(\"A Rainha Vermelha - Vol. 3\",\"Aveyard,Victoria\",44.99,\"a\",1,\"Terceiro livro da franquia...\")]),_useState4=_slicedToArray(_useState3,2),bookList=_useState4[0],setList=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),cart=_useState6[0],setCart=_useState6[1];/*GERENCIAMENTO DO CARRINHO */var addItem=function addItem(item){setCart([].concat(_toConsumableArray(cart),[item]));};var clearCart=function clearCart(){setCart([]);};var deleteItem=function deleteItem(item){var filteredCart=cart.filter(function(i){return i.id!==item.id;});setCart(filteredCart);};/* GERENCIAMENTO DOS LIVROS */var addBook=function addBook(titulo,autores,valor,editora,edicao,descricao){var book=new Book(titulo,autores,valor,editora,edicao,descricao);console.log(book);setList([].concat(_toConsumableArray(bookList),[book]));console.log(\"Criado com sucesso!!\");};var deleteBook=function deleteBook(book){var filteredList=bookList.filter(function(item){return item.id!==book.id;});setList(filteredList);};console.log(\"usr\",users);return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(TopBar,{login:login,handleLogout:handleLogout}),/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/bookpage/:id\",element:/*#__PURE__*/_jsx(BookPage,{bookList:bookList,addItem:addItem})}),/*#__PURE__*/_jsx(Route,{path:\"/payment\",element:/*#__PURE__*/_jsx(Payment,{cart:cart,clearCart:clearCart})}),/*#__PURE__*/_jsx(Route,{path:\"/cart\",element:/*#__PURE__*/_jsx(CartPage,{cart:cart,deleteItem:deleteItem,clearCart:clearCart})}),/*#__PURE__*/_jsx(Route,{path:\"/sign-in\",element:/*#__PURE__*/_jsx(SignIn,{users:users,doLogin:doLogin})}),/*#__PURE__*/_jsx(Route,{path:\"/sign-up\",element:/*#__PURE__*/_jsx(SignUp,{users:users})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/edit/admins\",element:/*#__PURE__*/_jsx(EditAdmins,{users:users})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/edit/clients\",element:/*#__PURE__*/_jsx(EditClients,{users:users})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/edit/products\",element:/*#__PURE__*/_jsx(EditProducts,{bookList:bookList})}),/*#__PURE__*/_jsx(Route,{path:\"/admin\",element:/*#__PURE__*/_jsx(Admin,{})}),/*#__PURE__*/_jsx(Route,{path:\"/perfil\",element:/*#__PURE__*/_jsx(Perfil,{user:login==true?JSON.parse(localStorage.getItem('user')):null})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",element:/*#__PURE__*/_jsx(Home,{bookList:bookList})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(\"div\",{children:\" Caminho nao existe\"})})]}),/*#__PURE__*/_jsx(Footer,{})]});}export default App;","map":{"version":3,"names":["NavBar","TopBar","Footer","useEffect","useState","Book","Card","Home","BookInfo","Admin","EditAdmins","EditClients","Payment","BrowserRouter","Router","Route","Routes","useNavigate","BookPage","CartPage","SignIn","SignUp","users","Perfil","EditProducts","App","navigate","localStorage","getItem","undefined","login","setLogin","handleLogout","setItem","JSON","stringify","doLogin","bool","bookList","setList","cart","setCart","addItem","item","clearCart","deleteItem","filteredCart","filter","i","id","addBook","titulo","autores","valor","editora","edicao","descricao","book","console","log","deleteBook","filteredList","parse"],"sources":["/home/fcavaleti/Desktop/web/web-project/FinalProject/client-side/src/App.js"],"sourcesContent":["import './App.css';\nimport NavBar from './Components/NavBar';\nimport TopBar from './Components/TopBar';\nimport Footer from './Components/Footer'\nimport { useEffect, useState } from 'react';\nimport Book from './Components/Book';\nimport Card from './Components/Card'\nimport Home from './Pages/Home'\nimport BookInfo from './Pages/BookPage'\nimport Admin from './Pages/Admin';\nimport EditAdmins from './Pages/EditAdmins';\nimport EditClients from './Pages/EditClients';\n\nimport Payment from './Pages/Payment';\n\nimport {BrowserRouter as Router, Route, Routes, useNavigate } from 'react-router-dom'\nimport BookPage from './Pages/BookPage';\nimport CartPage from './Pages/CartPage';\nimport SignIn from './Pages/SignIn';\nimport SignUp from './Pages/SignUp';\n\nimport users from './DataBases/userDB'\nimport Perfil from './Pages/Pefil';\nimport EditProducts from './Pages/EditProducts';\n\nfunction App() {\n\n  const navigate = useNavigate();\n\n  // Lidando com login no front end\n  const [login, setLogin] = useState(localStorage.getItem('isLogged') != undefined ? localStorage.getItem('isLogged'): false ) // Verifica se o usuario está logado ou nao \n\n  //Função para logout\n  const handleLogout = () => {\n    setLogin(false)\n    localStorage.setItem('isLogged', false);\n    localStorage.setItem('user', JSON.stringify({}))\n    navigate('/')\n    \n  }\n\n  const doLogin = (bool) =>\n  {\n    setLogin(bool);\n  }\n  \n  // Lista de livros disponiveis e itens do carrinho\n  const [bookList, setList] = useState([new Book(\"Harry Potter e a Pedra Filosofal\", \"J. K. Rowling\", 40.00, \"a\", 1, \"Primeiro livro da franquia...\"), new Book(\"A Rainha Vermelha - Vol. 1\", \"Aveyard,Victoria\", 44.99, \"a\", 1, \"Primeiro livro da franquia...\"), new Book(\"A Rainha Vermelha - Vol. 2\", \"Aveyard,Victoria\", 44.99, \"a\", 1, \"Segundo livro da franquia...\"), new Book(\"A Rainha Vermelha - Vol. 3\", \"Aveyard,Victoria\", 44.99, \"a\", 1, \"Terceiro livro da franquia...\")]);\n  const [cart, setCart] = useState([]);\n\n  /*GERENCIAMENTO DO CARRINHO */\n  const addItem = (item) => {\n    setCart([...cart, item]);\n  }\n\n  const clearCart = () =>{\n    setCart([]);\n  }\n\n  const deleteItem = (item) =>\n  {\n    let filteredCart = cart.filter(i => i.id !== item.id)\n    setCart(filteredCart);\n  }\n\n\n  /* GERENCIAMENTO DOS LIVROS */\n  const addBook = (titulo, autores, valor, editora, edicao, descricao) =>\n  {\n    let book = new Book(titulo, autores, valor, editora, edicao, descricao);\n    console.log(book)\n    setList([...bookList, book])\n    console.log(\"Criado com sucesso!!\")\n  }\n  \n  const deleteBook = (book) =>\n  {\n    let filteredList = bookList.filter(item => item.id !== book.id)\n    setList(filteredList)\n  }\n\n  \n  console.log(\"usr\", users)\n  \n  return (\n\n        <div className=\"App\">\n          <TopBar login={login} handleLogout={handleLogout}></TopBar>\n          <NavBar></NavBar>\n\n          <Routes>\n            <Route path='/bookpage/:id' element={<BookPage bookList={bookList} addItem={addItem}/>} />\n            <Route path='/payment' element={<Payment cart={cart} clearCart={clearCart} />} />\n            <Route path='/cart' element={<CartPage cart={cart} deleteItem={deleteItem} clearCart={clearCart}/>} />\n            <Route path='/sign-in' element={<SignIn users={users} doLogin={doLogin}/>} />\n            <Route path='/sign-up' element={<SignUp users={users} />} />\n            <Route path='/admin/edit/admins' element={<EditAdmins users={users} />} />\n            <Route path='/admin/edit/clients' element={<EditClients users={users} />} />\n            <Route path='/admin/edit/products' element={<EditProducts bookList={bookList} />} />\n            <Route path='/admin' element={<Admin />} />\n            <Route path='/perfil' element={<Perfil user={login == true ? JSON.parse(localStorage.getItem('user')) : null} />} />\n            <Route exact path=\"/\" element={<Home bookList={bookList}/>} />\n            <Route path=\"*\" element={\n              <div> Caminho nao existe</div>\n            } />\n         </Routes>\n            \n          \n\n              \n          <Footer></Footer>\n        </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}