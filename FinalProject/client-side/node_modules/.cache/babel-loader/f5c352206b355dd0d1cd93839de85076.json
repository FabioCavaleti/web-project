{"ast":null,"code":"import _slicedToArray from\"/home/fcavaleti/Desktop/web/web-project/FinalProject/client-side/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import'./CartPage.css';import foto from'../Assets/livroGenerico.jpg';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CartPage=function CartPage(_ref){var cart=_ref.cart,setCart=_ref.setCart,deleteItem=_ref.deleteItem,clearCart=_ref.clearCart;var handleClickBuy=function handleClickBuy(){};var handleClickClear=function handleClickClear(){clearCart();};var calculaTot=function calculaTot(){var sum=0;cart.map(function(item){sum+=parseFloat(item.valor);});return parseFloat(sum).toFixed(2);};var _useState=useState(calculaTot()),_useState2=_slicedToArray(_useState,2),total=_useState2[0],setTotal=_useState2[1];useEffect(function(){setTotal(calculaTot());},[cart]);return/*#__PURE__*/_jsxs(\"div\",{className:\"cart-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Carrinho\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"cart-list\",children:cart.map(function(item){return/*#__PURE__*/_jsxs(\"li\",{className:\"cart-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"left\",children:[/*#__PURE__*/_jsx(Link,{to:\"/bookpage/\".concat(item.id),children:/*#__PURE__*/_jsx(\"img\",{className:\"cart-product-img\",alt:\"foto-do-livro\",src:foto})}),/*#__PURE__*/_jsx(\"span\",{children:\"\".concat(item.titulo,\" \")})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"right\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"R$\".concat(item.valor)}),/*#__PURE__*/_jsx(\"button\",{className:\"delete-item-btn\",onClick:function onClick(){deleteItem(item);},children:\"X\"})]})]},item.id);})}),/*#__PURE__*/_jsx(\"div\",{className:\"final-value\",children:/*#__PURE__*/_jsx(\"span\",{children:total>0.0?\"Total: R$\".concat(total):\"o carrinho est\\xE1 vazio\"})}),/*#__PURE__*/_jsx(Link,{to:\"/payment\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleClickBuy,className:\"buy-cart-btn btn\",children:\"Finalizar Compra\"})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:handleClickClear,className:\"clear-cart-btn btn\",children:\"Limpar carrinho\"})]});};export default CartPage;","map":{"version":3,"names":["React","useEffect","useState","foto","Link","CartPage","cart","setCart","deleteItem","clearCart","handleClickBuy","handleClickClear","calculaTot","sum","map","item","parseFloat","valor","toFixed","total","setTotal","id","titulo"],"sources":["/home/fcavaleti/Desktop/web/web-project/FinalProject/client-side/src/Pages/CartPage.js"],"sourcesContent":["import React, {useEffect, useState} from 'react';\nimport './CartPage.css'\nimport foto from '../Assets/livroGenerico.jpg'\nimport { Link } from 'react-router-dom';\n\nconst CartPage = ({cart, setCart, deleteItem, clearCart}) => {\n\n    \n    \n    const handleClickBuy = () => {\n    }\n\n    const handleClickClear = () =>{\n        clearCart();\n    }\n    const calculaTot = () => {\n        \n        let sum = 0;\n        cart.map((item) =>{\n            sum += parseFloat(item.valor)\n        })\n        \n        return parseFloat(sum).toFixed(2);\n    }\n    \n    const [total, setTotal] = useState(calculaTot())\n\n    useEffect(() =>{\n        setTotal(calculaTot());\n    }, [cart])\n\n\n\n    return ( \n        <div className='cart-container'>\n            <h1>Carrinho</h1>\n            <ul className='cart-list'>\n                {cart.map(item =>\n                    <li className='cart-item' key={item.id}>\n                        <div className='left'>\n                            <Link to={`/bookpage/${item.id}`}>\n                                <img className='cart-product-img' alt='foto-do-livro' src={foto}/>\n                            </Link>\n                           <span>\n                             {`${item.titulo} `}\n                            </span>\n                        </div>\n                        <div className='right'>\n                            <span>\n                            {`R$${item.valor}`}\n                            </span>\n                            <button className='delete-item-btn' onClick={() =>{deleteItem(item)}}>X</button>\n\n                        </div>\n                    </li>    \n                )}\n            </ul>\n\n            <div className='final-value'>\n                <span>{total > 0.0 ? `Total: R$${total}` : `o carrinho est√° vazio`}</span>\n            </div>\n\n                <Link to='/payment'>\n                    <button onClick={handleClickBuy} className='buy-cart-btn btn'>Finalizar Compra</button>\n                </Link>\n                        <br />\n                        <button onClick={handleClickClear} className='clear-cart-btn btn'>Limpar carrinho</button>\n        </div>\n     );\n}\n \nexport default CartPage;"],"mappings":"sJAAA,MAAOA,MAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,CACA,MAAO,gBAAP,CACA,MAAOC,KAAP,KAAiB,6BAAjB,CACA,OAASC,IAAT,KAAqB,kBAArB,C,wFAEA,GAAMC,SAAQ,CAAG,QAAXA,SAAW,MAA4C,IAA1CC,KAA0C,MAA1CA,IAA0C,CAApCC,OAAoC,MAApCA,OAAoC,CAA3BC,UAA2B,MAA3BA,UAA2B,CAAfC,SAAe,MAAfA,SAAe,CAIzD,GAAMC,eAAc,CAAG,QAAjBA,eAAiB,EAAM,CAC5B,CADD,CAGA,GAAMC,iBAAgB,CAAG,QAAnBA,iBAAmB,EAAK,CAC1BF,SAAS,GACZ,CAFD,CAGA,GAAMG,WAAU,CAAG,QAAbA,WAAa,EAAM,CAErB,GAAIC,IAAG,CAAG,CAAV,CACAP,IAAI,CAACQ,GAAL,CAAS,SAACC,IAAD,CAAS,CACdF,GAAG,EAAIG,UAAU,CAACD,IAAI,CAACE,KAAN,CAAjB,CACH,CAFD,EAIA,MAAOD,WAAU,CAACH,GAAD,CAAV,CAAgBK,OAAhB,CAAwB,CAAxB,CAAP,CACH,CARD,CAUA,cAA0BhB,QAAQ,CAACU,UAAU,EAAX,CAAlC,wCAAOO,KAAP,eAAcC,QAAd,eAEAnB,SAAS,CAAC,UAAK,CACXmB,QAAQ,CAACR,UAAU,EAAX,CAAR,CACH,CAFQ,CAEN,CAACN,IAAD,CAFM,CAAT,CAMA,mBACI,aAAK,SAAS,CAAC,gBAAf,wBACI,gCADJ,cAEI,WAAI,SAAS,CAAC,WAAd,UACKA,IAAI,CAACQ,GAAL,CAAS,SAAAC,IAAI,qBACV,YAAI,SAAS,CAAC,WAAd,wBACI,aAAK,SAAS,CAAC,MAAf,wBACI,KAAC,IAAD,EAAM,EAAE,qBAAeA,IAAI,CAACM,EAApB,CAAR,uBACI,YAAK,SAAS,CAAC,kBAAf,CAAkC,GAAG,CAAC,eAAtC,CAAsD,GAAG,CAAElB,IAA3D,EADJ,EADJ,cAIG,gCACMY,IAAI,CAACO,MADX,OAJH,GADJ,cASI,aAAK,SAAS,CAAC,OAAf,wBACI,kCACMP,IAAI,CAACE,KADX,GADJ,cAII,eAAQ,SAAS,CAAC,iBAAlB,CAAoC,OAAO,CAAE,kBAAK,CAACT,UAAU,CAACO,IAAD,CAAV,CAAiB,CAApE,eAJJ,GATJ,GAA+BA,IAAI,CAACM,EAApC,CADU,EAAb,CADL,EAFJ,cAwBI,YAAK,SAAS,CAAC,aAAf,uBACI,sBAAOF,KAAK,CAAG,GAAR,oBAA0BA,KAA1B,4BAAP,EADJ,EAxBJ,cA4BQ,KAAC,IAAD,EAAM,EAAE,CAAC,UAAT,uBACI,eAAQ,OAAO,CAAET,cAAjB,CAAiC,SAAS,CAAC,kBAA3C,8BADJ,EA5BR,cA+BgB,aA/BhB,cAgCgB,eAAQ,OAAO,CAAEC,gBAAjB,CAAmC,SAAS,CAAC,oBAA7C,6BAhChB,GADJ,CAoCH,CAhED,CAkEA,cAAeN,SAAf"},"metadata":{},"sourceType":"module"}